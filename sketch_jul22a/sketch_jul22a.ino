#include <IRremote.h>

const int irSendPin = 3;  // IR 송신기가 연결된 핀
const int buttonPin = 2;  // 버튼이 연결된 핀

IRsend irsend;

void setup()
{
  pinMode(buttonPin, INPUT_PULLUP);  // 버튼 핀을 입력으로 설정하고 풀업 저항 활성화
  Serial.begin(115200);
}

void loop() {
  int flag = 0;
  if (digitalRead(buttonPin) == HIGH && flag ==0) {  // 버튼이 눌렸을 때
    // rawData 배열을 채워넣으세요
    unsigned int rawData[] = {
      10250, 3300, 3276750, 140750, 114650, 0, 89600, 0, 400, 0, 100, 14400, 1200, 16250, 113300, 1500, 
      321250, 450, 0, 0, 345600, 0, 321250, 2364400, 2364400, 2364400, 86000, 38750, 2364400, 9200, 0, 0, 
      3059200, 150, 38550, 400, 0, 0, 0, 0, 3266400, 9200, 0, 1250, 2364400, 9200, 2799600, 1664400, 0, 
      2364400, 0, 2492900, 0, 9200, 0, 50, 51400, 2364400, 2364400, 2364400, 0, 6750, 0, 0, 38450, 0, 
      11300, 0, 0, 0, 2364400, 2364400, 2364400, 2364400, 2364400, 321250, 2364400, 2364400, 2364400, 
      2364400, 321250, 2364400, 2364400, 2364400, 2364400, 2364400, 2364400, 2364400, 25700, 1282300, 
      1285000, 0, 3174400, 3276700, 0, 321250, 2355300, 77100, 800, 0, 2364400, 321250, 2364400, 
      2364400, 2364400, 321250, 2364400, 2364400, 2364400, 2364400, 321250, 2364400, 2364400, 2364400, 
      2364400, 2364400, 2364400, 2364400, 2364400, 2364400, 2364400, 321250, 2364400, 2364400, 2364400, 
      2364400, 321250, 2364400, 0, 0, 48650, 40650, 42900, 52500, 45350, 43650, 44650, 128650, 1049600, 
      1528050, 872000, 1489650, 747250, 1600, 411800, 0, 50, 0, 448000, 972150, 422050, 0, 0, 2560000, 
      2905550, 700, 742400, 195150, 0, 0, 44450, 25550, 13000, 0, 50000, 0, 0, 0, 9850, 9800, 9600, 9650, 
      9700, 9900, 50, 76800, 700, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
    };

    // 데이터 길이
    int rawDataLength = sizeof(rawData) / sizeof(rawData[0]);

    // IR 신호 전송
    irsend.sendRaw(rawData, rawDataLength, 38); // 38kHz 주파수 사용
    Serial.println("IR signal sent");
    flag = 1;
  }
  else
  {
    flag = 0;
  }
}
